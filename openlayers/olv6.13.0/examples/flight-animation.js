"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[350],{2786:function(e,t,n){var r=n(2739),a=n(5265),o=n(1376),i=n(4703),s=n(5783),f=n(4354),h=n(9039),c=n(720),u=n(2010),g=n(1372),l=n(8164),w=n(6923),d=new u.Z({source:new i.Z({layer:"toner"})}),v=new o.Z({layers:[d],target:"map",view:new f.ZP({center:[-11e6,46e5],zoom:2})}),m=new h.ZP({stroke:new c.Z({color:"#EAE911",width:2})}),y=new s.Z({attributions:'Flight data by <a href="https://openflights.org/data.html">OpenFlights</a>,',loader:function(){fetch("data/openflights/flights.json").then((function(e){return e.json()})).then((function(e){for(var t=e.flights,n=function(e){var n=t[e],o=n[0],i=n[1],s=new arc.GreatCircle({x:o[1],y:o[0]},{x:i[1],y:i[0]}).Arc(100,{offset:10}),f=[];s.geometries.forEach((function(e){var t=new a.Z(e.coords);t.transform("EPSG:4326","EPSG:3857"),f.push(new r.Z({geometry:t,finished:!1}))})),function(e,t){window.setTimeout((function(){var t=Date.now();e.forEach((function(e){e.set("start",t),y.addFeature(e);var n=(e.getGeometry().getCoordinates().length-1)/p;t+=n}))}),t)}(f,50*e)},o=0;o<t.length;o++)n(o);d.on("postrender",E)}))}}),Z=new g.Z({source:y,style:function(e){return e.get("finished")?m:null}});v.addLayer(Z);var p=.02;function E(e){var t=(0,l.u3)(e),n=e.frameState;t.setStyle(m);for(var r=y.getFeatures(),o=0;o<r.length;o++){var i=r[o];if(!i.get("finished")){var s=i.getGeometry().getCoordinates(),f=n.time-i.get("start");if(f>=0){var h=f*p;h>=s.length&&i.set("finished",!0);var c=Math.min(h,s.length),u=new a.Z(s.slice(0,c)),g=(0,w.dz)(v.getView().getProjection().getExtent()),d=Math.floor(v.getView().getCenter()[0]/g);u.translate(d*g,0),t.drawGeometry(u),u.translate(g,0),t.drawGeometry(u)}}}v.render()}}},function(e){var t=function(t){return e(e.s=t)};t(9877),t(2786)}]);
//# sourceMappingURL=flight-animation.js.map