{"version":3,"file":"getfeatureinfo-image.js","mappings":"sIAKMA,EAAY,IAAIC,EAAAA,EAAS,CAC7BC,IAAK,qCACLC,OAAQ,CAAC,OAAU,SACnBC,WAAY,YACZC,YAAa,cAGTC,EAAW,IAAIC,EAAAA,EAAW,CAC9BC,OAAQR,IAGJS,EAAO,IAAIC,EAAAA,GAAK,CACpBC,OAAQ,CAAC,EAAG,GACZC,KAAM,IAGFC,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,CAACT,GACTU,OAAQ,MACRP,KAAMA,IAGRI,EAAII,GAAG,eAAe,SAAUC,GAC9BC,SAASC,eAAe,QAAQC,UAAY,GAC5C,IAAMC,EAAwCb,EAAKc,gBAC7CrB,EAAMF,EAAUwB,kBACpBN,EAAIO,WACJH,EACA,YACA,CAAC,YAAe,cAEdpB,GACFwB,MAAMxB,GACHyB,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLX,SAASC,eAAe,QAAQC,UAAYS,QAKpDjB,EAAII,GAAG,eAAe,SAAUC,GAC9B,IAAIA,EAAIa,SAAR,CAGA,IAAMC,EAAO1B,EAAS2B,QAAQf,EAAIgB,OAC5BC,EAAMH,GAAQA,EAAK,GAAK,EAC9BnB,EAAIuB,mBAAmBC,MAAMC,OAASH,EAAM,UAAY,S","sources":["webpack:///./getfeatureinfo-image.js"],"sourcesContent":["import ImageLayer from '../src/ol/layer/Image.js';\nimport ImageWMS from '../src/ol/source/ImageWMS.js';\nimport Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\n\nconst wmsSource = new ImageWMS({\n  url: 'https://ahocevar.com/geoserver/wms',\n  params: {'LAYERS': 'ne:ne'},\n  serverType: 'geoserver',\n  crossOrigin: 'anonymous',\n});\n\nconst wmsLayer = new ImageLayer({\n  source: wmsSource,\n});\n\nconst view = new View({\n  center: [0, 0],\n  zoom: 1,\n});\n\nconst map = new Map({\n  layers: [wmsLayer],\n  target: 'map',\n  view: view,\n});\n\nmap.on('singleclick', function (evt) {\n  document.getElementById('info').innerHTML = '';\n  const viewResolution = /** @type {number} */ (view.getResolution());\n  const url = wmsSource.getFeatureInfoUrl(\n    evt.coordinate,\n    viewResolution,\n    'EPSG:3857',\n    {'INFO_FORMAT': 'text/html'}\n  );\n  if (url) {\n    fetch(url)\n      .then((response) => response.text())\n      .then((html) => {\n        document.getElementById('info').innerHTML = html;\n      });\n  }\n});\n\nmap.on('pointermove', function (evt) {\n  if (evt.dragging) {\n    return;\n  }\n  const data = wmsLayer.getData(evt.pixel);\n  const hit = data && data[3] > 0; // transparent pixels have zero for data[3]\n  map.getTargetElement().style.cursor = hit ? 'pointer' : '';\n});\n"],"names":["wmsSource","ImageWMS","url","params","serverType","crossOrigin","wmsLayer","ImageLayer","source","view","View","center","zoom","map","Map","layers","target","on","evt","document","getElementById","innerHTML","viewResolution","getResolution","getFeatureInfoUrl","coordinate","fetch","then","response","text","html","dragging","data","getData","pixel","hit","getTargetElement","style","cursor"],"sourceRoot":""}