{"version":3,"file":"animation.js","mappings":"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","sources":["webpack:///./animation.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport OSM from '../src/ol/source/OSM.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport View from '../src/ol/View.js';\nimport {easeIn, easeOut} from '../src/ol/easing.js';\nimport {fromLonLat} from '../src/ol/proj.js';\n\nconst london = fromLonLat([-0.12755, 51.507222]);\nconst moscow = fromLonLat([37.6178, 55.7517]);\nconst istanbul = fromLonLat([28.9744, 41.0128]);\nconst rome = fromLonLat([12.5, 41.9]);\nconst bern = fromLonLat([7.4458, 46.95]);\n\nconst view = new View({\n  center: istanbul,\n  zoom: 6,\n});\n\nconst map = new Map({\n  target: 'map',\n  layers: [\n    new TileLayer({\n      preload: 4,\n      source: new OSM(),\n    }),\n  ],\n  view: view,\n});\n\n// A bounce easing method (from https://github.com/DmitryBaranovskiy/raphael).\nfunction bounce(t) {\n  const s = 7.5625;\n  const p = 2.75;\n  let l;\n  if (t < 1 / p) {\n    l = s * t * t;\n  } else {\n    if (t < 2 / p) {\n      t -= 1.5 / p;\n      l = s * t * t + 0.75;\n    } else {\n      if (t < 2.5 / p) {\n        t -= 2.25 / p;\n        l = s * t * t + 0.9375;\n      } else {\n        t -= 2.625 / p;\n        l = s * t * t + 0.984375;\n      }\n    }\n  }\n  return l;\n}\n\n// An elastic easing method (from https://github.com/DmitryBaranovskiy/raphael).\nfunction elastic(t) {\n  return (\n    Math.pow(2, -10 * t) * Math.sin(((t - 0.075) * (2 * Math.PI)) / 0.3) + 1\n  );\n}\n\nfunction onClick(id, callback) {\n  document.getElementById(id).addEventListener('click', callback);\n}\n\nonClick('rotate-left', function () {\n  view.animate({\n    rotation: view.getRotation() + Math.PI / 2,\n  });\n});\n\nonClick('rotate-right', function () {\n  view.animate({\n    rotation: view.getRotation() - Math.PI / 2,\n  });\n});\n\nonClick('rotate-around-rome', function () {\n  // Rotation animation takes the shortest arc, so animate in two parts\n  const rotation = view.getRotation();\n  view.animate(\n    {\n      rotation: rotation + Math.PI,\n      anchor: rome,\n      easing: easeIn,\n    },\n    {\n      rotation: rotation + 2 * Math.PI,\n      anchor: rome,\n      easing: easeOut,\n    }\n  );\n});\n\nonClick('pan-to-london', function () {\n  view.animate({\n    center: london,\n    duration: 2000,\n  });\n});\n\nonClick('elastic-to-moscow', function () {\n  view.animate({\n    center: moscow,\n    duration: 2000,\n    easing: elastic,\n  });\n});\n\nonClick('bounce-to-istanbul', function () {\n  view.animate({\n    center: istanbul,\n    duration: 2000,\n    easing: bounce,\n  });\n});\n\nonClick('spin-to-rome', function () {\n  // Rotation animation takes the shortest arc, so animate in two parts\n  const center = view.getCenter();\n  view.animate(\n    {\n      center: [\n        center[0] + (rome[0] - center[0]) / 2,\n        center[1] + (rome[1] - center[1]) / 2,\n      ],\n      rotation: Math.PI,\n      easing: easeIn,\n    },\n    {\n      center: rome,\n      rotation: 2 * Math.PI,\n      easing: easeOut,\n    }\n  );\n});\n\nfunction flyTo(location, done) {\n  const duration = 2000;\n  const zoom = view.getZoom();\n  let parts = 2;\n  let called = false;\n  function callback(complete) {\n    --parts;\n    if (called) {\n      return;\n    }\n    if (parts === 0 || !complete) {\n      called = true;\n      done(complete);\n    }\n  }\n  view.animate(\n    {\n      center: location,\n      duration: duration,\n    },\n    callback\n  );\n  view.animate(\n    {\n      zoom: zoom - 1,\n      duration: duration / 2,\n    },\n    {\n      zoom: zoom,\n      duration: duration / 2,\n    },\n    callback\n  );\n}\n\nonClick('fly-to-bern', function () {\n  flyTo(bern, function () {});\n});\n\nfunction tour() {\n  const locations = [london, bern, rome, moscow, istanbul];\n  let index = -1;\n  function next(more) {\n    if (more) {\n      ++index;\n      if (index < locations.length) {\n        const delay = index === 0 ? 0 : 750;\n        setTimeout(function () {\n          flyTo(locations[index], next);\n        }, delay);\n      } else {\n        alert('Tour complete');\n      }\n    } else {\n      alert('Tour cancelled');\n    }\n  }\n  next(true);\n}\n\nonClick('tour', tour);\n"],"names":["london","fromLonLat","moscow","istanbul","rome","bern","view","View","center","zoom","Map","target","layers","TileLayer","preload","source","OSM","bounce","t","s","p","elastic","Math","pow","sin","PI","onClick","id","callback","document","getElementById","addEventListener","flyTo","location","done","duration","getZoom","parts","called","complete","animate","rotation","getRotation","anchor","easing","easeIn","easeOut","getCenter","locations","index","next","more","length","setTimeout","alert"],"sourceRoot":""}