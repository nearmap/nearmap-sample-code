{"version":3,"file":"geographic.js","mappings":"sNAOAA,E,QAAAA,MAEA,IAAMC,EAAQ,EAAE,IAAK,IAEfC,EAAQ,IAAIC,EAAAA,EAAMF,GAElBG,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,MACRC,KAAM,IAAIC,EAAAA,GAAK,CACbC,OAAQR,EACRS,KAAM,IAERC,OAAQ,CACN,IAAIC,EAAAA,EAAU,CACZC,OAAQ,IAAIC,EAAAA,IAEd,IAAIC,EAAAA,EAAY,CACdF,OAAQ,IAAIG,EAAAA,EAAa,CACvBC,SAAU,CAAC,IAAIC,EAAAA,EAAQhB,MAEzBiB,MAAO,IAAIC,EAAAA,GAAM,CACfC,MAAO,IAAIC,EAAAA,EAAO,CAChBC,OAAQ,EACRC,KAAM,IAAIC,EAAAA,EAAK,CAACC,MAAO,iBAO3BC,EAAUC,SAASC,eAAe,SAElCC,EAAQ,IAAIC,EAAAA,EAAQ,CACxBJ,QAASA,EACTK,YAAa,gBACbC,WAAW,EACXC,OAAQ,CAAC,GAAI,MAIf,SAASC,EAAiBC,GACxB,0EAG4BA,EAAW,GAAGC,QAAQ,GAHlD,mDAI4BD,EAAW,GAAGC,QAAQ,GAJlD,4CAHFjC,EAAIkC,WAAWR,GAYf,IAAMS,EAAOX,SAASC,eAAe,QACrCzB,EAAIoC,GAAG,WAAW,WAChB,IACM/B,EADOL,EAAIqC,UACGC,YACpBH,EAAKI,UAAYR,EAAiB1B,MAGpCL,EAAIoC,GAAG,SAAS,SAAUI,GACxBC,EAAElB,GAASmB,QAAQ,WAEnB,IAAMC,EAAU3C,EAAI4C,mBAAmBJ,EAAMK,OAAO,GACpD,GAAIF,EAAS,CACX,IAAMX,EAAaW,EAAQG,cAAcC,iBACzCrB,EAAMsB,YAAY,CAChBhB,EAAW,GAA6C,IAAxCiB,KAAKC,MAAMV,EAAMR,WAAW,GAAK,KACjDA,EAAW,KAEbS,EAAElB,GAASmB,QAAQ,CACjBS,UAAW5B,EAAQ6B,cACnBC,MAAM,EACNC,UAAU,EACVC,QAASxB,EAAiBC,GAC1BwB,UAAW,QAEbf,EAAElB,GAASmB,QAAQ,YAIvB1C,EAAIoC,GAAG,eAAe,SAAUI,GAC1BxC,EAAIyD,kBAAkBjB,EAAMK,OAC9B7C,EAAI0D,cAAc3C,MAAM4C,OAAS,UAEjC3D,EAAI0D,cAAc3C,MAAM4C,OAAS,e","sources":["webpack:///./geographic.js"],"sourcesContent":["import {Circle, Fill, Style} from '../src/ol/style.js';\nimport {Feature, Map, Overlay, View} from '../src/ol/index.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Point} from '../src/ol/geom.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\nimport {useGeographic} from '../src/ol/proj.js';\n\nuseGeographic();\n\nconst place = [-110, 45];\n\nconst point = new Point(place);\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: place,\n    zoom: 8,\n  }),\n  layers: [\n    new TileLayer({\n      source: new OSM(),\n    }),\n    new VectorLayer({\n      source: new VectorSource({\n        features: [new Feature(point)],\n      }),\n      style: new Style({\n        image: new Circle({\n          radius: 9,\n          fill: new Fill({color: 'red'}),\n        }),\n      }),\n    }),\n  ],\n});\n\nconst element = document.getElementById('popup');\n\nconst popup = new Overlay({\n  element: element,\n  positioning: 'bottom-center',\n  stopEvent: false,\n  offset: [0, -10],\n});\nmap.addOverlay(popup);\n\nfunction formatCoordinate(coordinate) {\n  return `\n    <table>\n      <tbody>\n        <tr><th>lon</th><td>${coordinate[0].toFixed(2)}</td></tr>\n        <tr><th>lat</th><td>${coordinate[1].toFixed(2)}</td></tr>\n      </tbody>\n    </table>`;\n}\n\nconst info = document.getElementById('info');\nmap.on('moveend', function () {\n  const view = map.getView();\n  const center = view.getCenter();\n  info.innerHTML = formatCoordinate(center);\n});\n\nmap.on('click', function (event) {\n  $(element).popover('dispose');\n\n  const feature = map.getFeaturesAtPixel(event.pixel)[0];\n  if (feature) {\n    const coordinate = feature.getGeometry().getCoordinates();\n    popup.setPosition([\n      coordinate[0] + Math.round(event.coordinate[0] / 360) * 360,\n      coordinate[1],\n    ]);\n    $(element).popover({\n      container: element.parentElement,\n      html: true,\n      sanitize: false,\n      content: formatCoordinate(coordinate),\n      placement: 'top',\n    });\n    $(element).popover('show');\n  }\n});\n\nmap.on('pointermove', function (event) {\n  if (map.hasFeatureAtPixel(event.pixel)) {\n    map.getViewport().style.cursor = 'pointer';\n  } else {\n    map.getViewport().style.cursor = 'inherit';\n  }\n});\n"],"names":["useGeographic","place","point","Point","map","Map","target","view","View","center","zoom","layers","TileLayer","source","OSM","VectorLayer","VectorSource","features","Feature","style","Style","image","Circle","radius","fill","Fill","color","element","document","getElementById","popup","Overlay","positioning","stopEvent","offset","formatCoordinate","coordinate","toFixed","addOverlay","info","on","getView","getCenter","innerHTML","event","$","popover","feature","getFeaturesAtPixel","pixel","getGeometry","getCoordinates","setPosition","Math","round","container","parentElement","html","sanitize","content","placement","hasFeatureAtPixel","getViewport","cursor"],"sourceRoot":""}