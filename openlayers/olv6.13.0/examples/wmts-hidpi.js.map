{"version":3,"file":"wmts-hidpi.js","mappings":"8IAYMA,E,QAAQC,GAAqB,EAC7BC,EAAQF,EAAQ,YAAc,iBAC9BG,EAAiBH,EAAQ,EAAI,EAE7BI,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,MACRC,KAAM,IAAIC,EAAAA,GAAK,CACbC,OAAQ,CAAC,QAAS,SAClBC,KAAM,OAIVC,MAjBwB,sDAkBrBC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GACd,IAAMC,GAAS,IAAIC,EAAAA,GAAmBC,KAAKH,GACrCI,GAAUC,EAAAA,EAAAA,GAAwBJ,EAAQ,CAC9Cb,MAAOA,EACPkB,UAAW,aACXC,MAAO,WAETH,EAAQf,eAAiBA,EACzBe,EAAQI,aACN,2EACFlB,EAAImB,SACF,IAAIC,EAAAA,EAAU,CACZC,OAAQ,IAAIC,EAAAA,EAAKR,W","sources":["webpack:///./wmts-hidpi.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport View from '../src/ol/View.js';\nimport WMTS, {optionsFromCapabilities} from '../src/ol/source/WMTS.js';\nimport WMTSCapabilities from '../src/ol/format/WMTSCapabilities.js';\nimport {DEVICE_PIXEL_RATIO} from '../src/ol/has.js';\n\nconst capabilitiesUrl = 'https://basemap.at/wmts/1.0.0/WMTSCapabilities.xml';\n\n// HiDPI support:\n// * Use 'bmaphidpi' layer (pixel ratio 2) for device pixel ratio > 1\n// * Use 'geolandbasemap' layer (pixel ratio 1) for device pixel ratio == 1\nconst hiDPI = DEVICE_PIXEL_RATIO > 1;\nconst layer = hiDPI ? 'bmaphidpi' : 'geolandbasemap';\nconst tilePixelRatio = hiDPI ? 2 : 1;\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: [1823849, 6143760],\n    zoom: 11,\n  }),\n});\n\nfetch(capabilitiesUrl)\n  .then(function (response) {\n    return response.text();\n  })\n  .then(function (text) {\n    const result = new WMTSCapabilities().read(text);\n    const options = optionsFromCapabilities(result, {\n      layer: layer,\n      matrixSet: 'google3857',\n      style: 'normal',\n    });\n    options.tilePixelRatio = tilePixelRatio;\n    options.attributions =\n      'Grundkarte: <a target=\"_blank\" href=\"https://basemap.at/\">basemap.at</a>';\n    map.addLayer(\n      new TileLayer({\n        source: new WMTS(options),\n      })\n    );\n  });\n"],"names":["hiDPI","DEVICE_PIXEL_RATIO","layer","tilePixelRatio","map","Map","target","view","View","center","zoom","fetch","then","response","text","result","WMTSCapabilities","read","options","optionsFromCapabilities","matrixSet","style","attributions","addLayer","TileLayer","source","WMTS"],"sourceRoot":""}