{"version":3,"file":"hit-tolerance.js","mappings":"8FA0CIA,E,mGAlCEC,EAAS,IAAIC,EAAAA,EAAU,CAC3BC,OAAQ,IAAIC,EAAAA,IAGRC,EAAQ,IAAIC,EAAAA,GAAM,CACtBC,OAAQ,IAAIC,EAAAA,EAAO,CACjBC,MAAO,QACPC,MAAO,MAILC,EAAU,IAAIC,EAAAA,EAClB,IAAIC,EAAAA,EAAW,CACb,EAAE,IAAS,GACX,CAAC,IAAS,MAIRC,EAAS,IAAIC,EAAAA,EAAY,CAC7BZ,OAAQ,IAAIa,EAAAA,EAAa,CACvBC,SAAU,CAACN,KAEbN,MAAOA,IAGHa,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,CAACnB,EAAQa,GACjBO,OAAQ,MACRC,KAAM,IAAIC,EAAAA,GAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAMJC,EAAgBC,SAASC,eAAe,UAE9CV,EAAIW,GAAG,eAAe,SAAUC,GAC9B,IAAIC,GAAM,EACVb,EAAIc,sBACFF,EAAEG,OACF,WACEF,GAAM,IAER,CACE/B,aAAcA,IAGd+B,GACF1B,EAAM6B,YAAYC,SAAS,SAC3BT,EAAcU,UAAY,uBAE1B/B,EAAM6B,YAAYC,SAAS,SAC3BT,EAAcU,UAAY,uBAE5BzB,EAAQ0B,aAGV,IAAMC,EAA4BX,SAASC,eAAe,gBACpDW,EAAeZ,SAASC,eAAe,UAEvCY,EAAqB,WAGzB,IAAMC,EAAO,GAFbzC,EAAe0C,SAASJ,EAA0BK,MAAO,KAEzB,EAChCJ,EAAa7B,MAAQ+B,EACrBF,EAAaK,OAASH,EACtB,IAAMI,EAAMN,EAAaO,WAAW,MACpCD,EAAIE,UAAU,EAAG,EAAGN,EAAMA,GAC1BI,EAAIG,YACJH,EAAII,IACFjD,EAAe,EACfA,EAAe,EACfA,EAAe,GACf,EACA,EAAIkD,KAAKC,IAEXN,EAAIO,OACJP,EAAItC,UAGN+B,EAA0Be,SAAWb,EACrCA,M","sources":["webpack:///./hit-tolerance.js"],"sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport LineString from '../src/ol/geom/LineString.js';\nimport Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Stroke, Style} from '../src/ol/style.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\n\nconst raster = new TileLayer({\n  source: new OSM(),\n});\n\nconst style = new Style({\n  stroke: new Stroke({\n    color: 'black',\n    width: 1,\n  }),\n});\n\nconst feature = new Feature(\n  new LineString([\n    [-4000000, 0],\n    [4000000, 0],\n  ])\n);\n\nconst vector = new VectorLayer({\n  source: new VectorSource({\n    features: [feature],\n  }),\n  style: style,\n});\n\nconst map = new Map({\n  layers: [raster, vector],\n  target: 'map',\n  view: new View({\n    center: [0, 0],\n    zoom: 2,\n  }),\n});\n\nlet hitTolerance;\n\nconst statusElement = document.getElementById('status');\n\nmap.on('singleclick', function (e) {\n  let hit = false;\n  map.forEachFeatureAtPixel(\n    e.pixel,\n    function () {\n      hit = true;\n    },\n    {\n      hitTolerance: hitTolerance,\n    }\n  );\n  if (hit) {\n    style.getStroke().setColor('green');\n    statusElement.innerHTML = 'A feature got hit!';\n  } else {\n    style.getStroke().setColor('black');\n    statusElement.innerHTML = 'No feature got hit.';\n  }\n  feature.changed();\n});\n\nconst selectHitToleranceElement = document.getElementById('hitTolerance');\nconst circleCanvas = document.getElementById('circle');\n\nconst changeHitTolerance = function () {\n  hitTolerance = parseInt(selectHitToleranceElement.value, 10);\n\n  const size = 2 * hitTolerance + 2;\n  circleCanvas.width = size;\n  circleCanvas.height = size;\n  const ctx = circleCanvas.getContext('2d');\n  ctx.clearRect(0, 0, size, size);\n  ctx.beginPath();\n  ctx.arc(\n    hitTolerance + 1,\n    hitTolerance + 1,\n    hitTolerance + 0.5,\n    0,\n    2 * Math.PI\n  );\n  ctx.fill();\n  ctx.stroke();\n};\n\nselectHitToleranceElement.onchange = changeHitTolerance;\nchangeHitTolerance();\n"],"names":["hitTolerance","raster","TileLayer","source","OSM","style","Style","stroke","Stroke","color","width","feature","Feature","LineString","vector","VectorLayer","VectorSource","features","map","Map","layers","target","view","View","center","zoom","statusElement","document","getElementById","on","e","hit","forEachFeatureAtPixel","pixel","getStroke","setColor","innerHTML","changed","selectHitToleranceElement","circleCanvas","changeHitTolerance","size","parseInt","value","height","ctx","getContext","clearRect","beginPath","arc","Math","PI","fill","onchange"],"sourceRoot":""}