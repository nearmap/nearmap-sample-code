{"version":3,"file":"geolocation.js","mappings":"+NASMA,EAAO,IAAIC,EAAAA,GAAK,CACpBC,OAAQ,CAAC,EAAG,GACZC,KAAM,IAGFC,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,CACN,IAAIC,EAAAA,EAAU,CACZC,OAAQ,IAAIC,EAAAA,KAGhBC,OAAQ,MACRV,KAAMA,IAGFW,EAAc,IAAIC,EAAAA,EAAY,CAElCC,gBAAiB,CACfC,oBAAoB,GAEtBC,WAAYf,EAAKgB,kBAGnB,SAASC,EAAGC,GACV,OAAOC,SAASC,eAAeF,GAGjCD,EAAG,SAASI,iBAAiB,UAAU,WACrCV,EAAYW,YAAYC,KAAKC,YAI/Bb,EAAYc,GAAG,UAAU,WACvBR,EAAG,YAAYS,UAAYf,EAAYgB,cAAgB,OACvDV,EAAG,YAAYS,UAAYf,EAAYiB,cAAgB,OACvDX,EAAG,oBAAoBS,UAAYf,EAAYkB,sBAAwB,OACvEZ,EAAG,WAAWS,UAAYf,EAAYmB,aAAe,SACrDb,EAAG,SAASS,UAAYf,EAAYoB,WAAa,YAInDpB,EAAYc,GAAG,SAAS,SAAUO,GAChC,IAAMC,EAAOd,SAASC,eAAe,QACrCa,EAAKC,UAAYF,EAAMG,QACvBF,EAAKG,MAAMC,QAAU,MAGvB,IAAMC,EAAkB,IAAIC,EAAAA,EAC5B5B,EAAYc,GAAG,2BAA2B,WACxCa,EAAgBE,YAAY7B,EAAY8B,0BAG1C,IAAMC,EAAkB,IAAIH,EAAAA,EAC5BG,EAAgBC,SACd,IAAIC,EAAAA,GAAM,CACRC,MAAO,IAAIC,EAAAA,EAAY,CACrBC,OAAQ,EACRC,KAAM,IAAIC,EAAAA,EAAK,CACbC,MAAO,YAETC,OAAQ,IAAIC,EAAAA,EAAO,CACjBF,MAAO,OACPG,MAAO,SAMf1C,EAAYc,GAAG,mBAAmB,WAChC,IAAM6B,EAAc3C,EAAY4C,cAChCb,EAAgBF,YAAYc,EAAc,IAAIE,EAAAA,EAAMF,GAAe,SAGrE,IAAIG,EAAAA,EAAY,CACdrD,IAAKA,EACLI,OAAQ,IAAIkD,EAAAA,EAAa,CACvBC,SAAU,CAACrB,EAAiBI,S","sources":["webpack:///./geolocation.js"],"sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Geolocation from '../src/ol/Geolocation.js';\nimport Map from '../src/ol/Map.js';\nimport Point from '../src/ol/geom/Point.js';\nimport View from '../src/ol/View.js';\nimport {Circle as CircleStyle, Fill, Stroke, Style} from '../src/ol/style.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\n\nconst view = new View({\n  center: [0, 0],\n  zoom: 2,\n});\n\nconst map = new Map({\n  layers: [\n    new TileLayer({\n      source: new OSM(),\n    }),\n  ],\n  target: 'map',\n  view: view,\n});\n\nconst geolocation = new Geolocation({\n  // enableHighAccuracy must be set to true to have the heading value.\n  trackingOptions: {\n    enableHighAccuracy: true,\n  },\n  projection: view.getProjection(),\n});\n\nfunction el(id) {\n  return document.getElementById(id);\n}\n\nel('track').addEventListener('change', function () {\n  geolocation.setTracking(this.checked);\n});\n\n// update the HTML page when the position changes.\ngeolocation.on('change', function () {\n  el('accuracy').innerText = geolocation.getAccuracy() + ' [m]';\n  el('altitude').innerText = geolocation.getAltitude() + ' [m]';\n  el('altitudeAccuracy').innerText = geolocation.getAltitudeAccuracy() + ' [m]';\n  el('heading').innerText = geolocation.getHeading() + ' [rad]';\n  el('speed').innerText = geolocation.getSpeed() + ' [m/s]';\n});\n\n// handle geolocation error.\ngeolocation.on('error', function (error) {\n  const info = document.getElementById('info');\n  info.innerHTML = error.message;\n  info.style.display = '';\n});\n\nconst accuracyFeature = new Feature();\ngeolocation.on('change:accuracyGeometry', function () {\n  accuracyFeature.setGeometry(geolocation.getAccuracyGeometry());\n});\n\nconst positionFeature = new Feature();\npositionFeature.setStyle(\n  new Style({\n    image: new CircleStyle({\n      radius: 6,\n      fill: new Fill({\n        color: '#3399CC',\n      }),\n      stroke: new Stroke({\n        color: '#fff',\n        width: 2,\n      }),\n    }),\n  })\n);\n\ngeolocation.on('change:position', function () {\n  const coordinates = geolocation.getPosition();\n  positionFeature.setGeometry(coordinates ? new Point(coordinates) : null);\n});\n\nnew VectorLayer({\n  map: map,\n  source: new VectorSource({\n    features: [accuracyFeature, positionFeature],\n  }),\n});\n"],"names":["view","View","center","zoom","map","Map","layers","TileLayer","source","OSM","target","geolocation","Geolocation","trackingOptions","enableHighAccuracy","projection","getProjection","el","id","document","getElementById","addEventListener","setTracking","this","checked","on","innerText","getAccuracy","getAltitude","getAltitudeAccuracy","getHeading","getSpeed","error","info","innerHTML","message","style","display","accuracyFeature","Feature","setGeometry","getAccuracyGeometry","positionFeature","setStyle","Style","image","CircleStyle","radius","fill","Fill","color","stroke","Stroke","width","coordinates","getPosition","Point","VectorLayer","VectorSource","features"],"sourceRoot":""}