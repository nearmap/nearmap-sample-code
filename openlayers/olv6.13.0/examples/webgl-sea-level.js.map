{"version":3,"file":"webgl-sea-level.js","mappings":"gJAMMA,EAAM,oCAsBNC,EAAQ,IAAIC,EAAAA,EAAU,CAC1BC,QAAS,GACTC,OAAQ,IAAIC,EAAAA,EAAI,CACdC,IACE,kEAAoEN,EACtEO,SAAU,IACVC,QAAS,KAEXC,MAAO,CACLC,UAAW,CACTC,MAAO,GAETC,MAAO,CACL,OAEA,CAAC,KA7BW,CAChB,KACC,IACD,CACE,IACA,KACA,CACE,IACA,CAAC,IAAK,MAAW,CAAC,OAAQ,IAC1B,CAAC,IAAK,CAAC,IAAK,IAAK,CAAC,OAAQ,IAAK,CAAC,OAAQ,OAoBtB,CAAC,MAAO,UAC1B,CAAC,IAAK,IAAK,IAAK,GAChB,CAAC,IAAK,IAAK,IAAK,OAKhBC,EAAM,IAAIC,EAAAA,EAAI,CAClBC,OAAQ,MACRC,OAAQ,CACN,IAAId,EAAAA,EAAU,CACZE,OAAQ,IAAIC,EAAAA,EAAI,CACdC,IAAK,6DAA+DN,EACpEiB,aAhDN,4LAiDMV,SAAU,IACVC,QAAS,OAGbP,GAEFiB,KAAM,IAAIC,EAAAA,GAAK,CACbC,QAAQC,EAAAA,EAAAA,IAAW,EAAE,SAAU,UAC/BC,KAAM,OAIJC,EAAUC,SAASC,eAAe,SAClCC,EAASF,SAASC,eAAe,UACjCE,EAAW,WACfD,EAAOE,UAAYL,EAAQM,MAC3B5B,EAAM6B,qBAAqB,CAACnB,MAAOoB,WAAWR,EAAQM,UAExDN,EAAQS,iBAAiB,QAASL,GAClCJ,EAAQS,iBAAiB,SAAUL,GACnCD,EAAOE,UAAYL,EAAQM,MAG3B,IADA,IAAMI,EAAYT,SAASU,uBAAuB,YACzCC,EAAI,EAAGC,EAAKH,EAAUI,OAAQF,EAAIC,IAAMD,EAC/CF,EAAUE,GAAGH,iBAAiB,QAASM,GAGzC,SAASA,EAASC,GAChB,IAAMC,EAAOD,EAAMxB,OAAO0B,QACpBvB,EAAOL,EAAI6B,UACjBxB,EAAKyB,WAAUtB,EAAAA,EAAAA,IAAWmB,EAAKpB,OAAOwB,MAAM,KAAK/B,IAAIgC,UACrD3B,EAAK4B,QAAQD,OAAOL,EAAKlB,U","sources":["webpack:///./webgl-sea-level.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport TileLayer from '../src/ol/layer/WebGLTile.js';\nimport View from '../src/ol/View.js';\nimport XYZ from '../src/ol/source/XYZ.js';\nimport {fromLonLat} from '../src/ol/proj.js';\n\nconst key = 'get_your_own_D6rA4zTHduk6KOKTXzGB';\nconst attributions =\n  '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> ' +\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>';\n\n// band math operates on normalized values from 0-1\n// so we scale by 255 to align with the elevation formula\n// from https://cloud.maptiler.com/tiles/terrain-rgb/\nconst elevation = [\n  '+',\n  -10000,\n  [\n    '*',\n    0.1 * 255,\n    [\n      '+',\n      ['*', 256 * 256, ['band', 1]],\n      ['+', ['*', 256, ['band', 2]], ['band', 3]],\n    ],\n  ],\n];\n\nconst layer = new TileLayer({\n  opacity: 0.6,\n  source: new XYZ({\n    url:\n      'https://api.maptiler.com/tiles/terrain-rgb/{z}/{x}/{y}.png?key=' + key,\n    tileSize: 512,\n    maxZoom: 12,\n  }),\n  style: {\n    variables: {\n      level: 0,\n    },\n    color: [\n      'case',\n      // use the `level` style variable to determine the color\n      ['<=', elevation, ['var', 'level']],\n      [139, 212, 255, 1],\n      [139, 212, 255, 0],\n    ],\n  },\n});\n\nconst map = new Map({\n  target: 'map',\n  layers: [\n    new TileLayer({\n      source: new XYZ({\n        url: 'https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=' + key,\n        attributions: attributions,\n        tileSize: 512,\n        maxZoom: 22,\n      }),\n    }),\n    layer,\n  ],\n  view: new View({\n    center: fromLonLat([-122.3267, 37.8377]),\n    zoom: 11,\n  }),\n});\n\nconst control = document.getElementById('level');\nconst output = document.getElementById('output');\nconst listener = function () {\n  output.innerText = control.value;\n  layer.updateStyleVariables({level: parseFloat(control.value)});\n};\ncontrol.addEventListener('input', listener);\ncontrol.addEventListener('change', listener);\noutput.innerText = control.value;\n\nconst locations = document.getElementsByClassName('location');\nfor (let i = 0, ii = locations.length; i < ii; ++i) {\n  locations[i].addEventListener('click', relocate);\n}\n\nfunction relocate(event) {\n  const data = event.target.dataset;\n  const view = map.getView();\n  view.setCenter(fromLonLat(data.center.split(',').map(Number)));\n  view.setZoom(Number(data.zoom));\n}\n"],"names":["key","layer","TileLayer","opacity","source","XYZ","url","tileSize","maxZoom","style","variables","level","color","map","Map","target","layers","attributions","view","View","center","fromLonLat","zoom","control","document","getElementById","output","listener","innerText","value","updateStyleVariables","parseFloat","addEventListener","locations","getElementsByClassName","i","ii","length","relocate","event","data","dataset","getView","setCenter","split","Number","setZoom"],"sourceRoot":""}